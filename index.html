<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Itssghir - Data Scientist</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.8.0/sql-wasm.js"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #4b0082, #8a2be2);
      font-family: 'Orbitron', sans-serif;
      color: #fff;
      overflow-x: hidden;
      position: relative;
    }

    header {
      text-align: center;
      padding: 60px 20px 30px;
    }

    header h1 {
      font-size: 3em;
      margin: 0;
    }

    header p {
      font-size: 1.2em;
      opacity: 0.8;
    }

    section {
      max-width: 900px;
      margin: auto;
      padding: 40px 20px;
      text-align: center;
    }

    .q-learning-grid {
      display: grid;
      grid-template-columns: repeat(5, 60px);
      grid-template-rows: repeat(5, 60px);
      gap: 4px;
      margin: 30px auto;
      justify-content: center;
    }

    .cell {
      width: 60px;
      height: 60px;
      background: #6a0dad;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #fff;
    }

    .agent {
      background: #00ffcc;
      border-radius: 50%;
      width: 30px;
      height: 30px;
    }

    .goal {
      background: gold;
      border-radius: 50%;
      width: 30px;
      height: 30px;
    }

    button {
      background: #9b59b6;
      border: none;
      padding: 12px 24px;
      color: white;
      font-size: 16px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 20px;
    }

    button:hover {
      background: #be75e6;
    }

    #status {
      margin-top: 20px;
      font-size: 1.1em;
      font-style: italic;
      color: #ffd700;
    }

    textarea {
      width: 80%;
      height: 80px;
      padding: 10px;
      margin: 20px 0;
      border-radius: 5px;
      border: none;
      font-family: monospace;
      font-size: 14px;
    }

    #sql-output {
      background-color: rgba(255,255,255,0.1);
      padding: 20px;
      border-radius: 10px;
      text-align: left;
      margin-top: 10px;
      font-family: monospace;
      white-space: pre-wrap;
    }

    footer {
      background-color: #2c003e;
      color: #fff;
      text-align: center;
      padding: 20px 10px;
      margin-top: 50px;
    }

    #snake-follow {
      position: fixed;
      pointer-events: none;
      top: 0;
      left: 0;
      z-index: 9999;
    }

    .snake-dot {
      width: 12px;
      height: 12px;
      background: #00ffcc;
      border-radius: 50%;
      position: absolute;
      box-shadow: 0 0 5px #00ffcc;
    }

    #table-list {
      margin-bottom: 20px;
      padding: 15px;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid #ffffff33;
      border-radius: 10px;
      font-family: monospace;
      font-size: 14px;
      color: #adf;
    }

    #storm-effect {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      background: repeating-linear-gradient(90deg, rgba(255,255,255,0.05) 0, rgba(255,255,255,0.05) 2px, transparent 2px, transparent 4px);
      animation: storm 0.5s linear infinite;
      z-index: 0;
    }

    @keyframes storm {
      from { background-position: 0 0; }
      to { background-position: 100% 100%; }
    }
  </style>
</head>
<body>
  <div id="storm-effect"></div>
  <div id="snake-follow"></div>

  <header>
    <h1>Itssghir</h1>
    <p>Data Scientist ‚Ä¢ Python Enthusiast ‚Ä¢ Q-Learning Explorer</p>
  </header>

  <section>
    <h2>üìä Console SQL Interactive</h2>
    <div id="table-list">Chargement des tables...</div>
    <textarea id="sql-input" placeholder="Ex: SELECT * FROM Competences;"></textarea><br>
    <button onclick="runSQL()">Ex√©cuter</button>
    <div id="sql-output"></div>
  </section>

  <section>
    <h2>Jeu Q-Learning</h2>
    <p>Un agent doit apprendre √† atteindre l'objectif (case dor√©e) sur une grille 5x5.</p>
    <div class="q-learning-grid" id="grid"></div>
    <button onclick="startQLearning()">D√©marrer l'apprentissage</button>
    <div id="status"></div>
  </section>

  <footer>
    <p>üìß Contact : itssghir@example.com | üíº LinkedIn : <a href="https://www.linkedin.com/in/itssghir" style="color: #fff; text-decoration: underline;">linkedin.com/in/itssghir</a></p>
    <p>&copy; 2025 Itssghir - Tous droits r√©serv√©s</p>
  </footer>

  <script>
  <script>
    // Variables globales
    let db;
    const tableList = document.getElementById("table-list");
    let isQLearningRunning = false;
    let agent = { x: 0, y: 0 };
    let goal = { x: 4, y: 4 };
    let qTable = {};
    let snakeDots = [];
    const maxSnakeDots = 10;

    // Initialisation de SQL.js
    initSqlJs({ locateFile: file => `https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.8.0/${file}` })
      .then(SQL => {
        db = new SQL.Database();
        // Cr√©ation des tables et insertion des donn√©es initiales
        db.run(`CREATE TABLE Utilisateur (id INTEGER PRIMARY KEY, nom TEXT, titre TEXT);
                CREATE TABLE Competences (id INTEGER PRIMARY KEY, utilisateur_id INTEGER, nom TEXT, niveau INTEGER);
                CREATE TABLE SoftSkills (id INTEGER PRIMARY KEY, utilisateur_id INTEGER, nom TEXT);
                CREATE TABLE Education (id INTEGER PRIMARY KEY, utilisateur_id INTEGER, diplome TEXT, ecole TEXT, annee TEXT);
                CREATE TABLE Experience (id INTEGER PRIMARY KEY, utilisateur_id INTEGER, poste TEXT, entreprise TEXT, annee TEXT, description TEXT);
                CREATE TABLE Projets (id INTEGER PRIMARY KEY, utilisateur_id INTEGER, nom TEXT, description TEXT, technologies TEXT);
                
                INSERT INTO Utilisateur VALUES (1, 'Itssghir', 'Data Scientist Senior');
                
                INSERT INTO Competences VALUES 
                (1, 1, 'Python', 5),
                (2, 1, 'Pandas', 5),
                (3, 1, 'Numpy', 4),
                (4, 1, 'Machine Learning', 4),
                (5, 1, 'IA', 4),
                (6, 1, 'Tableau', 3),
                (7, 1, 'Dataiku', 4),
                (8, 1, 'SQL', 4),
                (9, 1, 'R', 3),
                (10, 1, 'TensorFlow', 3);
                
                INSERT INTO SoftSkills VALUES 
                (1, 1, 'Travail en √©quipe'),
                (2, 1, 'Curiosit√©'),
                (3, 1, 'Esprit critique'),
                (4, 1, 'Communication'),
                (5, 1, 'R√©solution de probl√®mes');
                
                INSERT INTO Education VALUES 
                (1, 1, 'Master en Data Science', 'Universit√© AI Paris', '2023'),
                (2, 1, 'Licence en Informatique', 'Universit√© Paris Saclay', '2021');
                
                INSERT INTO Experience VALUES 
                (1, 1, 'Data Scientist Senior', 'OpenAI France', '2024-Pr√©sent', 'D√©veloppement de mod√®les pr√©dictifs et analyse de donn√©es massives'),
                (2, 1, 'Data Analyst', 'DataTech Solutions', '2022-2024', 'Cr√©ation de tableaux de bord et analyse de donn√©es clients');
                
                INSERT INTO Projets VALUES
                (1, 1, 'Pr√©diction de fraude', 'Syst√®me de d√©tection de fraudes bancaires par apprentissage automatique', 'Python, TensorFlow, SQL'),
                (2, 1, 'Dashboard COVID', 'Visualisation en temps r√©el des donn√©es de la pand√©mie', 'Tableau, R, API REST');`);

        // Affichage des tables disponibles
        const res = db.exec("SELECT name FROM sqlite_master WHERE type='table';");
        const tableNames = res[0].values.map(row => row[0]);
        tableList.innerHTML = "<strong>üìÇ Tables disponibles :</strong><br>" + tableNames.join(", ");
        
        // Cr√©er les hexagones pour chaque table
        const hexContainer = document.getElementById("tables-hexagons");
        hexContainer.innerHTML = ''; // Vider le conteneur avant d'ajouter de nouveaux √©l√©ments
        
        tableNames.forEach(tableName => {
          const hex = document.createElement('div');
          hex.className = 'table-hex';
          hex.textContent = tableName;
          hex.onclick = () => {
            document.getElementById('sql-input').value = `SELECT * FROM ${tableName};`;
          };
          hexContainer.appendChild(hex);
        });
        
        // Pr√©-remplir la zone de requ√™te SQL avec un exemple
        document.getElementById("sql-input").value = "SELECT u.nom, u.titre, e.poste, e.entreprise\nFROM Utilisateur u\nJOIN Experience e ON u.id = e.utilisateur_id\nWHERE e.entreprise = 'OpenAI France';";
      })
      .catch(err => {
        tableList.textContent = "‚ùå Erreur lors du chargement de SQL.js: " + err.message;
      });

    // Fonction pour ex√©cuter des requ√™tes SQL
    function runSQL() {
      const output = document.getElementById("sql-output");
      const input = document.getElementById("sql-input").value.trim();
      
      if (!input) {
        output.textContent = "‚ö†Ô∏è Veuillez saisir une requ√™te SQL.";
        return;
      }
      
      if (!db) {
        output.textContent = "‚ö†Ô∏è Base de donn√©es non initialis√©e. Veuillez patienter...";
        return;
      }
      
      try {
        output.innerHTML = "<div class='loading'><div></div><div></div><div></div></div>";
        
        // Simuler un d√©lai pour donner l'impression de traitement
        setTimeout(() => {
          try {
            const results = db.exec(input);
            
            if (results.length === 0) {
              // V√©rifier si la requ√™te a modifi√© des lignes
              if (input.toLowerCase().includes("insert") || 
                  input.toLowerCase().includes("update") || 
                  input.toLowerCase().includes("delete")) {
                output.textContent = "‚úÖ Requ√™te ex√©cut√©e avec succ√®s.";
              } else {
                output.textContent = "‚ÑπÔ∏è Aucun r√©sultat retourn√©.";
              }
              return;
            }
            
            let html = "<table style='width:100%; border-collapse: collapse;'>";
            
            // En-t√™tes de colonnes
            html += "<tr style='border-bottom: 1px solid #adf;'>";
            results[0].columns.forEach(column => {
              html += `<th style='padding: 8px; text-align: left;'>${column}</th>`;
            });
            html += "</tr>";
            
            // Lignes de donn√©es
            results[0].values.forEach(row => {
              html += "<tr style='border-bottom: 1px solid rgba(173, 216, 255, 0.3);'>";
              row.forEach(cell => {
                html += `<td style='padding: 8px;'>${cell !== null ? cell : 'NULL'}</td>`;
              });
              html += "</tr>";
            });
            
            html += "</table>";
            output.innerHTML = html;
          } catch (e) {
            output.textContent = "‚ùå Erreur SQL : " + e.message;
          }
        }, 500);
      } catch (e) {
        output.textContent = "‚ùå Erreur SQL : " + e.message;
      }
    }
  </script>
</body>
</html>
